<!doctype html>

<html>
  <head>
    <meta charset="utf-8">
    <title>Riot todo (pre-compiled)</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" type="text/css" href="css/uikit.min.css">

    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.0.5/es5-shim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script>html5.addElements('todo')</script>
    <![endif]-->

  </head>

  <body>

    <todo></todo>
    
    <script src="js/uikit.min.js"></script>
    <script src="js/riot.min.js"></script>
    <script src="js/api.js"></script>
    <script src="js/todo.js"></script>
    
    <script>
    var xhr = new XMLHttpRequest();
    xhr.onreadystatechange = function() {
        if (xhr.readyState == 4 && xhr.status == 200) {
            let items = JSON.parse(xhr.responseText);
            load(items);
        }
    };
    xhr.open("GET", "all", true);
    xhr.send();
    
    function load(data) {
        var api = new API();
        riot.mount("todo", {items:data, title:"ToDo", api:api})
    }
    </script>

  </body>

</html>
